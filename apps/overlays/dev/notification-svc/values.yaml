# Notification Service - Dev Environment values
gearify-service:
  nameOverride: notification-svc

  image:
    repository: "${AWS_ACCOUNT_ID}.dkr.ecr.us-east-1.amazonaws.com/gearify-notification-svc"
    tag: "dev-latest"

  replicaCount: 1

  service:
    port: 80
    targetPort: 5010

  configMap:
    enabled: true
    data:
      ASPNETCORE_ENVIRONMENT: "Development"
      AWS_REGION: "us-east-1"
      OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.observability-dev:4317"
      SQS_PAYMENT_EVENTS_QUEUE: "https://sqs.us-east-1.amazonaws.com/${AWS_ACCOUNT_ID}/gearify-notification-payment-events-queue-dev"
      SQS_REFUND_QUEUE: "https://sqs.us-east-1.amazonaws.com/${AWS_ACCOUNT_ID}/gearify-notification-refund-queue-dev"

  externalSecrets:
    enabled: true
    refreshInterval: 1h
    secretStoreRef:
      name: aws-secrets-manager
      kind: ClusterSecretStore
    data:
      - secretKey: SMTP_HOST
        remoteRef:
          key: gearify/dev/smtp
          property: host
      - secretKey: SMTP_PORT
        remoteRef:
          key: gearify/dev/smtp
          property: port
      - secretKey: SMTP_USERNAME
        remoteRef:
          key: gearify/dev/smtp
          property: username
      - secretKey: SMTP_PASSWORD
        remoteRef:
          key: gearify/dev/smtp
          property: password
      - secretKey: SMTP_FROM
        remoteRef:
          key: gearify/dev/smtp
          property: from

  env:
    - name: SERVICE_NAME
      value: "notification-svc"
    - name: ENVIRONMENT
      value: "dev"

  resources:
    limits:
      cpu: 250m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi

  serviceMonitor:
    enabled: true
    namespace: observability-dev
    interval: 30s
    path: /metrics
